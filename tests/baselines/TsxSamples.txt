original file
-----------------------------------
class MyComponent extends React.Component<Props, State>{
    render() {
        return ^^<^^div ^^onClick={^^this.stop}>
            ^^This is a test: {this.state.count}
        </div>
    }
}

// JSX in Depth
// http://facebook.github.io/react/docs/jsx-in-depth.html
var App =
    ^^<^^Form>
        ^^<^^FormRow>
            ^^<^^FormLabel ^^data="^^1" />
            ^^<^^FormInput ^^data="^^2" />
        ^^</^^FormRow>
    ^^</^^Form>

var App2 = (
    ^^<^^Form>
        ^^<^^FormRow>
            ^^<^^FormLabel ^^data='^^1' />
            ^^<^^FormInput ^^data='^^2' />
        ^^</^^FormRow>
      ^^</^^Form>
)

var content = (
    ^^<^^Nav>
        {/* child comment, put {} around */}
        ^^<^^Person ^^name={^^window.isLoggedIn ? window.name : ''}
        ^^/>
    ^^</Nav>
);

// JSX Spread Attributes
// http://facebook.github.io/react/docs/jsx-spread.html
var props = {};
props.foo = x;
props.bar = y;
var component = ^^<^^Component {^^...props} ^^/>;

var props2 = { foo: 'default' }
var component2 = ^^<^^Component {^^...props} foo={'override'} ^^/>

// JSX Gotchas
// http://facebook.github.io/react/docs/jsx-gotchas.html
var a = <div>{^^'First \u00b7 Second'}</div>
var b = <div>{'First ' + ^^String.fromCharCode(183) + ' Second'}</div>
var c = <div>{['First ', ^^<span>&middot;</span>, ' Second']}</div>
var d = <div dangerouslySetInnerHTML={{^^__html: ^^'First &middot; Second'}} />
var e = <div data-custom-attribute="^^foo" />

-----------------------------------

>class MyComponent extends React.Component<Props, State>{
>    render() {
>        return <div onClick={this.stop}>
                ^
                [3, 16]: source.tsx meta.declaration.object.tsx meta.object.body.tsx meta.method.declaration.tsx meta.block.tsx meta.tag.open.tsx punctuation.definition.tag.begin.tsx 
                 ^^^
                 [3, 17]: source.tsx meta.declaration.object.tsx meta.object.body.tsx meta.method.declaration.tsx meta.block.tsx meta.tag.open.tsx entity.name.tag.tsx 
                     ^^^^^^^
                     [3, 21]: source.tsx meta.declaration.object.tsx meta.object.body.tsx meta.method.declaration.tsx meta.block.tsx meta.tag.open.tsx meta.tag.attribute-name.tsx entity.other.attribute-name.tsx 
                              ^^^^
                              [3, 30]: source.tsx meta.declaration.object.tsx meta.object.body.tsx meta.method.declaration.tsx meta.block.tsx meta.tag.open.tsx meta.brace.curly.tsx variable.language.this.tsx 
>            This is a test: {this.state.count}
 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 [4, 13]: source.tsx meta.declaration.object.tsx meta.object.body.tsx meta.method.declaration.tsx meta.block.tsx meta.jsx.children.tsx 
>        </div>
>    }
>}
>
>// JSX in Depth
>// http://facebook.github.io/react/docs/jsx-in-depth.html
>var App =
>    <Form>
     ^
     [12, 5]: source.tsx meta.tag.without-attributes.tsx punctuation.definition.tag.begin.tsx 
      ^^^^
      [12, 6]: source.tsx meta.tag.without-attributes.tsx entity.name.tag.tsx 
>        <FormRow>
         ^
         [13, 9]: source.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx punctuation.definition.tag.begin.tsx 
          ^^^^^^^
          [13, 10]: source.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx entity.name.tag.tsx 
>            <FormLabel data="1" />
             ^
             [14, 13]: source.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx punctuation.definition.tag.begin.tsx 
              ^^^^^^^^^
              [14, 14]: source.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx entity.name.tag.tsx 
                        ^^^^
                        [14, 24]: source.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx meta.tag.attribute-name.tsx entity.other.attribute-name.tsx 
                              ^
                              [14, 30]: source.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx string.jsxAttributeValue.quoted.double.tsx 
>            <FormInput data="2" />
             ^
             [15, 13]: source.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx punctuation.definition.tag.begin.tsx 
              ^^^^^^^^^
              [15, 14]: source.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx entity.name.tag.tsx 
                        ^^^^
                        [15, 24]: source.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx meta.tag.attribute-name.tsx entity.other.attribute-name.tsx 
                              ^
                              [15, 30]: source.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx string.jsxAttributeValue.quoted.double.tsx 
>        </FormRow>
         ^^
         [16, 9]: source.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx punctuation.definition.tag.begin.tsx 
           ^^^^^^^
           [16, 11]: source.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx entity.name.tag.tsx 
>    </Form>
     ^^
     [17, 5]: source.tsx meta.tag.without-attributes.tsx punctuation.definition.tag.begin.tsx 
       ^^^^
       [17, 7]: source.tsx meta.tag.without-attributes.tsx entity.name.tag.tsx 
>
>var App2 = (
>    <Form>
     ^
     [20, 5]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx punctuation.definition.tag.begin.tsx 
      ^^^^
      [20, 6]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx entity.name.tag.tsx 
>        <FormRow>
         ^
         [21, 9]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx punctuation.definition.tag.begin.tsx 
          ^^^^^^^
          [21, 10]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx entity.name.tag.tsx 
>            <FormLabel data='1' />
             ^
             [22, 13]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx punctuation.definition.tag.begin.tsx 
              ^^^^^^^^^
              [22, 14]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx entity.name.tag.tsx 
                        ^^^^
                        [22, 24]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx meta.tag.attribute-name.tsx entity.other.attribute-name.tsx 
                              ^
                              [22, 30]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx string.jsxAttributeValue.quoted.single.tsx 
>            <FormInput data='2' />
             ^
             [23, 13]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx punctuation.definition.tag.begin.tsx 
              ^^^^^^^^^
              [23, 14]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx entity.name.tag.tsx 
                        ^^^^
                        [23, 24]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx meta.tag.attribute-name.tsx entity.other.attribute-name.tsx 
                              ^
                              [23, 30]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx string.jsxAttributeValue.quoted.single.tsx 
>        </FormRow>
         ^^
         [24, 9]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx punctuation.definition.tag.begin.tsx 
           ^^^^^^^
           [24, 11]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.without-attributes.tsx entity.name.tag.tsx 
>      </Form>
       ^^
       [25, 7]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx punctuation.definition.tag.begin.tsx 
         ^^^^
         [25, 9]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx entity.name.tag.tsx 
>)
>
>var content = (
>    <Nav>
     ^
     [29, 5]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx punctuation.definition.tag.begin.tsx 
      ^^^
      [29, 6]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx entity.name.tag.tsx 
>        {/* child comment, put {} around */}
>        <Person name={window.isLoggedIn ? window.name : ''}
         ^
         [31, 9]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx punctuation.definition.tag.begin.tsx 
          ^^^^^^
          [31, 10]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx entity.name.tag.tsx 
                 ^^^^
                 [31, 17]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx meta.tag.attribute-name.tsx entity.other.attribute-name.tsx 
                       ^^^^^^^^^^^^^^^^^^
                       [31, 23]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.open.tsx meta.brace.curly.tsx 
>        />
         ^^
         [32, 9]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.tag.close.tsx punctuation.definition.tag.end.tsx 
>    </Nav>
     ^^
     [33, 5]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx punctuation.definition.tag.begin.tsx 
>);
>
>// JSX Spread Attributes
>// http://facebook.github.io/react/docs/jsx-spread.html
>var props = {};
>props.foo = x;
>props.bar = y;
>var component = <Component {...props} />;
                 ^
                 [41, 17]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.open.tsx punctuation.definition.tag.begin.tsx 
                  ^^^^^^^^^
                  [41, 18]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.open.tsx entity.name.tag.tsx 
                             ^^^^^^^^
                             [41, 29]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.open.tsx meta.brace.curly.tsx 
                                       ^^
                                       [41, 39]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.close.tsx punctuation.definition.tag.end.tsx 
>
>var props2 = { foo: 'default' }
>var component2 = <Component {...props} foo={'override'} />
                  ^
                  [44, 18]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.open.tsx punctuation.definition.tag.begin.tsx 
                   ^^^^^^^^^
                   [44, 19]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.open.tsx entity.name.tag.tsx 
                              ^^^^^^^^
                              [44, 30]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.open.tsx meta.brace.curly.tsx 
                                                         ^^
                                                         [44, 57]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.close.tsx punctuation.definition.tag.end.tsx 
>
>// JSX Gotchas
>// http://facebook.github.io/react/docs/jsx-gotchas.html
>var a = <div>{'First \u00b7 Second'}</div>
               ^
               [48, 15]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.brace.curly.tsx string.quoted.single.tsx punctuation.definition.string.begin.tsx 
>var b = <div>{'First ' + String.fromCharCode(183) + ' Second'}</div>
                         ^^^^^^^^^^^^^^^^^^^^
                         [49, 26]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.brace.curly.tsx 
>var c = <div>{['First ', <span>&middot;</span>, ' Second']}</div>
                          ^
                          [50, 26]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.without-attributes.tsx meta.brace.curly.tsx meta.array.literal.tsx meta.tag.without-attributes.tsx punctuation.definition.tag.begin.tsx 
>var d = <div dangerouslySetInnerHTML={{__html: 'First &middot; Second'}} />
                                        ^^^^^^^
                                        [51, 40]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.open.tsx meta.brace.curly.tsx meta.object-literal.tsx meta.object.member.tsx 
                                                ^
                                                [51, 48]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.open.tsx meta.brace.curly.tsx meta.object-literal.tsx meta.object.member.tsx string.quoted.single.tsx punctuation.definition.string.begin.tsx 
>var e = <div data-custom-attribute="foo" />
                                     ^^^
                                     [52, 37]: source.tsx meta.var.expr.tsx meta.var-single-variable.expr.tsx meta.tag.open.tsx string.jsxAttributeValue.quoted.double.tsx 
>